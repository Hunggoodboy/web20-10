<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Cuốn sách kỷ niệm</title>
<style>
body {
  display: flex;
  justify-content: flex-start;
  align-items: center;
  height: 100vh;
  background: #f2e6d9;
  font-family: Arial, sans-serif;
  perspective: 2000px;
  padding-left: 50px;
  box-sizing: border-box;
  /* Thêm overflow: hidden để tránh thanh cuộn ngang trên mobile */
  overflow: hidden;
}

.book-container {
  position: relative;
  display: flex;
  align-items: center;
  margin-left: auto;
  margin-right: 200px;
}

.book {
  position: relative;
  width: 80vw;
  max-width: 600px;
  height: 60vh;
  max-height: 600px;
  transform-style: preserve-3d;
}

.page {
  position: absolute;
  width: 100%;
  height: 100%;
  transform-style: preserve-3d;
  transform-origin: left;
  transition: transform 1s;
}

.front, .back {
  position: absolute;
  width: 100%;
  height: 100%;
  backface-visibility: hidden;
}

.back {
  transform: rotateY(180deg);
}

.front img, .back img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  border: 2px solid #c2a77a;
  border-radius: 10px;
  box-shadow: 0 10px 30px rgba(0,0,0,0.3);
}

.cover {
  background-image: url('assets/image/IMG_8026.JPG');
  background-size: cover;
  background-repeat: no-repeat;
  background-position: center;
  display: flex;
  justify-content: center;
  align-items: center;
  color: white;
  font-size: 2vw;
  font-weight: bold;
  text-align: center;
  font-family: 'Cursive', 'Segoe Script', 'Dancing Script', sans-serif;
  z-index: 1000;
}

.arrow {
  font-size: 40px;
  background-color: rgba(255,255,255,0.7);
  border: none;
  padding: 10px;
  cursor: pointer;
  border-radius: 50%;
  user-select: none;
  z-index: 1000;
}

.arrow-left { margin-right: 10px; }
.arrow-right { margin-left: 10px; }

.arrow:hover { background-color: rgba(255,255,255,1); }


/* --- CSS CHO RESPONSIVE --- */
/* Áp dụng cho màn hình có chiều rộng tối đa 1024px (máy tính bảng và điện thoại) */
@media (max-width: 1024px) {
  body {
    /* Đưa sách ra giữa */
    padding-left: 0;
    justify-content: center;
  }

  .book-container {
    /* Căn giữa và cho phép chiếm gần hết chiều rộng */
    margin: 0;
    width: 90%;
    max-width: 500px; /* Giới hạn chiều rộng tối đa trên tablet */
  }

  .book {
    width: 100%; /* Sách chiếm hết chiều rộng container */
    height: 70vh; /* Có thể tăng chiều cao một chút trên mobile */
  }

  .cover {
    /* Tăng cỡ chữ tương đối trên màn hình nhỏ */
    font-size: 6vw;
  }

  /* Di chuyển mũi tên vào trong, nằm đè lên sách */
  .arrow {
    position: absolute;
    top: 50%;
    transform: translateY(-50%);
    z-index: 2000; /* Đảm bảo nút nổi lên trên cùng */
  }

  .arrow-left {
    left: 10px; /* Đặt sát cạnh trái */
    margin-right: 0;
  }

  .arrow-right {
    right: 10px; /* Đặt sát cạnh phải */
    margin-left: 0;
  }
}

</style>
</head>
<body>

<div class="book-container">
  <button class="arrow arrow-left">&#8592;</button>

  <div class="book" id="book">
    <div class="page cover" data-index="0"></div>
  </div>

  <button class="arrow arrow-right">&#8594;</button>
</div>

<audio autoplay loop>
  <source src="./assets/musics/I_DO.mp3" type="audio/mpeg" />
</audio>

<script>
// Mảng ảnh mặt trước
const images = [
  'assets/image/IMG_2.jpeg',
  'assets/image/Pic1.jpg',
  'assets/image/right2.jpg',
    'assets/image/Right6.jpeg',
    'assets/image/Right7.JPG',
    'assets/image/Right8.jpeg',
    'assets/image/IMG_7637.jpg',
    'assets/image/IMG_7867.jpeg',
    'assets/image/IMG_7621.jpg',
    'assets/image/IMG_3147.JPG',
  'assets/image/IMG_6911 2.jpg',
  'assets/image/IMG_6970.JPG',
  'assets/image/IMG_7080.jpeg'

];

// Mảng ảnh mặt sau (mỗi trang khác ảnh mặt trước)
const backImages = [
  'assets/image/Left1.jpg',
  'assets/image/left2.jpg',
      'assets/image/Left2_3.jpg',
      'assets/image/Left2_4.jpg',
    'assets/image/Left2_5.png',
    'assets/image/Left.png',
        'assets/image/Left2_6.png',
    'assets/image/Leftt.png',
  'assets/image/Left3.jpg',
  'assets/image/Left4.jpg',
  'assets/image/Left5.jpg',
  'assets/image/Left6.png'
];

const book = document.getElementById('book');
let currentPage = 0;

// Tạo các trang với front/back
images.forEach((src, i) => {
  const page = document.createElement('div');
  page.classList.add('page');
  page.dataset.index = i + 1;

  // Mặt trước
  const front = document.createElement('div');
  front.classList.add('front');
  const imgFront = document.createElement('img');
  imgFront.src = src;
  front.appendChild(imgFront);

  // Mặt sau
  const back = document.createElement('div');
  back.classList.add('back');
  const imgBack = document.createElement('img');
  imgBack.src = backImages[i];
  back.appendChild(imgBack);

  page.appendChild(front);
  page.appendChild(back);
  book.appendChild(page);
});

const pages = Array.from(book.querySelectorAll('.page'));

function updatePages() {
  pages.forEach(page => {
    const idx = parseInt(page.dataset.index);
    if (idx <= currentPage) {
      page.style.transform = `rotateY(-180deg)`;
      page.style.zIndex = idx;
    } else {
      page.style.transform = `rotateY(0deg)`;
      page.style.zIndex = pages.length - idx;
    }
  });
}

document.querySelector('.arrow-right').addEventListener('click', () => {
  if (currentPage < pages.length) {
    currentPage++;
    updatePages();
  }
});

document.querySelector('.arrow-left').addEventListener('click', () => {
  if (currentPage > 0) {
    currentPage--;
    updatePages();
  }
});
</script>

</body>
</html>
